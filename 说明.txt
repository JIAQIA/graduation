sss3.29
A.根据例程来的，主函数不断调用usb读取。
B.那个USB程序的故障很有可能出在没有处理USB_OTG_Core上。不管它了。
C.记住USB读取流程，先从IDLE状态转到Connect状态，然后是枚举，枚举成功了就可以调用读写函数了。
D.可以考虑从一开始检测U盘，不存在就一直等待。插入U盘后顺序读取文件。
问题：
1.读出的数很乱。不知道是不是编码的原因。配合原来的程序跑一下就知道了。
2.不知道如何从特定直接读取，还是要看例程和fa文件的说明（网上应该能找到）。
20:39 2012-3-29
读出二进制来看看。用C#编了个程序读了一下，没错。记事本是用UTF-8存储的，要下载一个二进制文件读写器。
1.下一步，二合一
先把RW做成可随时调用的。
程序出错设断点，单步走。不行就重写
终于找到了随时调用读写文件的方法，利用RR结构，不断扫描usb状态，可读以后改写FSReady标志位。然后就能调用了。这样可以检测到U盘拔出（并不及时）。
0405：
U盘读取时死了，怀疑是FAT32不兼容


